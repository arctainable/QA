function dsri(e){toggleClass(document.getElementById(e),"dno")}function dsrib(e,t){var n=document.getElementById(e);(t?addClass:removeClass)(n,"dno")}function replaceHtml(e,t){var n="string"==typeof e?document.getElementById(e):e,o=n.cloneNode(!1);return o.innerHTML=t,n.parentNode.replaceChild(o,n),o}function set_cookie(e,t,n,o){var a=new Date;a.setTime(a.getTime()+36e5*n),document.cookie=e+"="+escape(t)+"; path=/; expires="+a.toGMTString()+";"+(o?"domain="+o+";":"")}function get_cookie(e){var t=document.cookie.match("(^|[^;]+)\\s*"+e+"\\s*=\\s*([^;]+)");return t?t.pop():""}function delete_cookie(e){var t=new Date;t.setTime(t.getTime()-1);var n=get_cookie(e);""!=n&&(document.cookie=e+"="+n+"; path=/; expires="+t.toGMTString())}function layer_cook(e,t,n){var o=document;n=void 0!==n&&o.getElementById(n);var a=o.getElementById(e);if(a)return a;t=(void 0===t||""==t?"":"layer ")+"dno";var i=o.createElement("div");return i.id=e,i.className=t,(n=n||o.body).appendChild(i),i}function g_data(e,t){try{return e.getAttribute("data-"+t)}catch(e){return""}}function gototb(e){scrollTo(e?document.documentElement.scrollHeight:0,600)}function gotoid(e,t,n){t=t||0,t=document.getElementById(e).getBoundingClientRect().top-t+window.pageYOffset,scrollTo(t=n?t-window.innerHeight/2:t,600)}function addClass(e,t){e.classList?e.classList.add(t):hasClass(e,t)||(e.className+=" "+t)}function removeClass(e,t){if(e.classList)e.classList.remove(t);else if(hasClass(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}function hasClass(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function toggleClass(e,t){(hasClass(e,t)?removeClass:addClass)(e,t)}function is_mobile(){return"win16|win32|win64|mac|macintel".indexOf(navigator.platform.toLowerCase())<0}function form_ajax(e){ajax_sbtn(e,1);var t=new FormData(e),n=new XMLHttpRequest;return n.open("POST",e.action,!0),n.onreadystatechange=function(){if(4===this.readyState&&200<=this.status&&this.status<400){var e=this.responseText,t=e.split(":");if(e=null,2==t.length){var n=t[1],o="";switch(t[0]){case"err":o="close";break;case"suc":o="check",md_close();break;default:o="info"}t=null,toast(n,o)}}},n.send(t),n=null,ajax_sbtn(e,0),!1}function ajax_sbtn(e,t){for(var n=(t=e.querySelectorAll("button[type=submit]")).length,o=0;o<n;o++)t[o].disabled=!!t}function hasChildElement(e){var t,n;if(e.children)n=0!==e.children.length;else for(n=!1,t=e.firstChild;!n&&t;t=t.nextSibling)1==t.nodeType&&(n=!0);return n}function insertAfter(e,t){e.parentNode.insertBefore(t,e.nextSibling)}function getPosition(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),o=document,a=o.body,i=o.documentElement,r=!!t&&o.getElementById(t);if(r)var s=r.scrollTop,l=r.scrollLeft,d=0,c=0;else s=window.pageYOffset||i.scrollTop||a.scrollTop,l=window.pageXOffset||i.scrollLeft||a.scrollLeft,d=i.clientTop||a.clientTop||0,c=i.clientLeft||a.clientLeft||0;return{top:n.top+s-d,left:n.left+l-c}}function get_ww(){return"BackCompat"===document.compatMode?document.body.clientWidth:document.documentElement.clientWidth}function get_wh(){return"BackCompat"===document.compatMode?document.body.clientHeight:document.documentElement.clientHeight}function otf(n,o,a){n.addEventListener(o,function e(t){n.removeEventListener(o,e),a(t)})}Element.prototype.remove=function(){this.parentElement.removeChild(this)},NodeList.prototype.remove=HTMLCollection.prototype.remove=function(){for(var e=this.length-1;0<=e;e--)this[e]&&this[e].parentElement&&this[e].parentElement.removeChild(this[e])};var pbid=null;function pbd(e){var t=document,n=t.getElementById(e);pbid&&pbid!=e?(addClass(t.getElementById(pbid),"dno"),removeClass(n,"dno")):toggleClass(n,"dno"),0==hasClass(n,"dno")&&(pbid=e,otf(t,"click",function(){addClass(n,"dno"),pbid=null})),event.stopPropagation()}function pbdl(e,t,n,o){void 0===n&&(n=0),void 0===o&&(o=0);var a=document.getElementById(e),i=getPosition(t,o),r=i.top+t.offsetHeight;0==n?(a.style.right=get_ww()-i.left-t.offsetWidth+"px",a.style.left="auto"):(r+=1==n?10:0,a.style.left=i.left+"px",a.style.right="auto"),a.style.top=r+"px",pbd(e)}function prettyDate(e){var t=new Date(e),n=Math.floor(((new Date).getTime()-t.getTime())/1e3);return isNaN(n)||n<0?e:n<60?"방금전":(n/=60)<60?Math.floor(n)+" 분 전":(n/=60)<24?Math.floor(n)+" 시간 전":(n/=24)<31?Math.floor(n)+" 일 전":e.substr(2,8)}function ToastBuilder(e){function s(){for(var e=document.querySelectorAll(".toast"),t=e.length,n=15,o=0;o<t;o++)e[o].style.top=n+"px",n+=e[o].offsetHeight+15}return function(e,t,n){t=t||"info";var o="tc-"+(void 0===n?t:n),a=document,i=a.createElement("div");i.className="toast",i.innerHTML='<i class="ti ti-'+t+"-circle "+o+'"></i>'+e,a.body.appendChild(i),s(),i.style.opacity=1;var r=i.offsetHeight;setTimeout(function(){i.style.marginTop=-1*(r/2+10)+"px",i.style.opacity=0},3e3),setTimeout(function(){i.remove(),s()},3400)}}var toast=new ToastBuilder;function scrollTo(i,r,s){var l=(s=s||document.scrollingElement||document.documentElement).scrollTop,d=i-l,c=+new Date;!function e(){var t,n,o,a=new Date-c;s.scrollTop=parseInt((t=a,n=l,o=d,(t/=r/2)<1?o/2*t*t+n:-o/2*(--t*(t-2)-1)+n)),a<r?requestAnimationFrame(e):s.scrollTop=i}()}function serialize(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function del(e){if(confirm("한번 삭제한 자료는 복구할 방법이 없습니다.\n\n정말 삭제하시겠습니까?")){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var n=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(n)&&(t=parseFloat(RegExp.$1))}document.location.href=-1!=t&&t<7?encodeURI(e):e}}function set_comment_token(t){void 0===t.token&&t.insertAdjacentHTML("afterbegin",'<input type="hidden" name="token" value="">');var e=new XMLHttpRequest;e.open("GET",g5_bbs_url+"/ajax.comment_token.php",!1),e.onreadystatechange=function(){if(4===this.readyState&&200<=this.status&&this.status<400){var e=JSON.parse(this.responseText);t.token.value=e.token}},e.send(),e=null}function get_write_token(e){var t="",n=new XMLHttpRequest;return n.open("POST",g5_bbs_url+"/write_token.php",!1),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),n.onreadystatechange=function(){if(4===this.readyState&&200<=this.status&&this.status<400){var e=JSON.parse(this.responseText);if(e.error&&(alert(e.error),e.url))return document.location.href=e.url,!1;t=e.token}},n.send("bo_table="+e),n=null,t}function token_chk(){var e=document.fwrite;if(void 0!==e.bo_table){var t=get_write_token(e.bo_table.value);return t?(void 0===e.token&&e.insertAdjacentHTML("afterbegin",'<input type="hidden" name="token" value="">'),e.token.value=t,!0):(alert("토큰 정보가 올바르지 않습니다."),!1)}}if(g5_bo_table){var f=document.fwrite;if(f){for(var is=f.querySelectorAll("input[type=submit]"),j=is.length,i=0;i<j;i++)is[i].addEventListener("click",token_chk,!1);for(j=(is=f.querySelectorAll("button[type=submit]")).length,i=0;i<j;i++)is[i].addEventListener("click",token_chk,!1);f=is=null}}if(!g5_ads_off){j="undefined"!=typeof g5_wr_id?4:2;for(i=0;i<j;i++)(adsbygoogle=window.adsbygoogle||[]).push({});j=null}function grz_sv(e){layer_cook("sv_layer",1);var t=document.getElementById("sv_layer"),n=e.getAttribute("data-id"),o=e.textContent,a=[],i=1;a[0]='<div class="hd">'+o+'</div><div class="lb">',g5_is_member&&(a[i++]='<a href="'+g5_bbs_url+"/memo_form.php?me_recv_mb_id="+n+'" onclick="tk_write(\''+n+'\');return false;"><i class="far fa-envelope fa-fw"></i> 쪽지보내기</a>'),g5_bo_table&&(a[i++]='<a href="'+g5_bbs_url+"/board.php?bo_table="+g5_bo_table+"&amp;sfl=mb_id,1&amp;stx="+n+'"><i class="fas fa-search fa-fw"></i> 아이디로 검색</a>'),g5_is_admin&&(a[i++]='<a href="'+g5_bbs_url+"/new.php?mb_id="+n+'"><i class="far fa-list-alt fa-fw"></i> 전체게시물</a>',a[i++]='<a href="'+g5_url+"/adm/member_form.php?w=u&amp;mb_id="+n+'" target="_blank"><i class="fas fa-user-edit fa-fw"></i> 회원정보변경</a>',a[i++]='<a href="'+g5_url+"/adm/point_list.php?sfl=mb_id&amp;stx="+n+'" target="_blank"><i class="far fa-star fa-fw"></i> 포인트내역</a>'),a[i]="</div>",t.innerHTML=a.join(""),pbdl("sv_layer",e,1)}function md_layer(e,t){void 0===t&&(t=0);var n=document;n.getElementById("md_layer")&&md_close();var o=n.getElementById(e);if(o){n.body.style.overflowY="hidden";var a=md_layer_cook(),i=n.createElement("div"),r=a.getElementsByClassName("md_in")[0];i.id="md_layer_tmp",insertAfter(o,i),320<t&&(r.style.width=t+"px"),removeClass(o,"dno"),addClass(o,"md_obj"),r.appendChild(o);var s=get_wh(),l=(s-r.offsetHeight)/2;mb=l<(s*=.1)?s:0,l=l<s?s:l,r.style.marginTop=l+"px",r.style.marginBottom=mb+"px",a.addEventListener("click",function(e){(hasClass(e.target,"md_cls")||hasClass(e.target,"md_layer"))&&(e.preventDefault(),md_close())})}}function md_layer_cook(){var e=layer_cook("md_layer","md_layer");return e.className="md_layer",e.innerHTML='<div class="md_in"><i class="ti md_cls">&#xe81c;</i></div>',e}function md_close(){var e=document,t=e.getElementById("md_layer"),n=t.getElementsByClassName("md_obj")[0],o=e.getElementById("md_layer_tmp");addClass(n,"dno"),removeClass(n,"md_obj"),t.getElementsByClassName("md_cls")[0].remove(),insertAfter(o,n),o.remove(),t.remove(),e.body.style.overflowY="auto"}function themeToggle(){var e=document.getElementById("body-theme"),t=hasClass(e,"theme-light");addClass(e,t?"theme-dark":"theme-light"),removeClass(e,t?"theme-light":"theme-dark"),set_cookie("theme",t?1:0,365,g5_cookie_domain)}function tk_write(e){layer_cook("md_layer_talk");var t=!1;void 0===e&&(e="");var n=document.getElementById("md_layer_talk"),o=document.getElementById("tk_to");try{t=o.value!=e}catch(e){t=!0}if(t){var a=[];a[0]='<form name="tk_frm" action="'+g5_url+'/talk/talk_update.php" onsubmit="return form_ajax(this);" method="post" >',a[1]='<div class="md_hd">쪽지 쓰기</div><div class="md_ct frm">',a[2]='<div class="item"><input type="text" name="tk_to" id="tk_to" class="g_text" value="'+e+'" placeholder="받는사람" required /></div>',a[3]='<div class="item"><input type="text" name="tk_subject" id="tk_sj" class="g_text" placeholder="제목" required /></div>',a[4]='<div class="item"><textarea name="tk_content" id="tk_ct" class="g_text" placeholder="내용" required></textarea></div>',a[5]='<div class="item"><button type="submit" class="btn btn_blue"><i class="ti ti-check"></i> 보내기</button></div>',a[6]="</div></form>",n.innerHTML=a.join("")}md_layer("md_layer_talk",853)}function rj_init(e,t){var n=document.createElement("div");return n.className="rslide",n.innerHTML=("1"==t?'<div class="rtp"><span></span><span class="rtp-c"></span><span></span></div>':"")+'<div class="rbt"><div class="bar"><div class="pro"></div></div></div>',e.parentNode.insertBefore(n,e),n.querySelector(".rbt").appendChild(e),rj_chg(!1,e),n}function rj_chg(e,t){var n=(t=t||this).parentNode,o=n.querySelector(".bar").offsetWidth-15,a=t.parentNode.parentNode.querySelector(".rtp"),i=t.value/t.max,r=n.querySelector(".pro");if(a){var s=a.querySelectorAll("span"),l=t.getAttribute("data-time")||0;s[0].textContent=s2t(t.min,l),s[2].textContent=s2t(t.max,l),s[1].textContent=s2t(t.value,l);var d=s[1].offsetWidth,c=s[2].offsetWidth,m=s[0].offsetWidth+10,u=o*i;s[0].className=u<m?"hide":"",m=o-c+5,s[2].className=m<.5*d+u?"hide":"",u=(m=o-d/2+7.5)<(u=u<7.5?7.5:u)?m:u,s[1].style.left=u+"px"}r.style.width=100*i+"%"}function s2t(e,t){if("0"==t)return e;var n=~~((e=~~(e/1e3))/60);return(n=n<10?"0"+n:n)+":"+(e=(e%=60)<10?"0"+e:e)}document.addEventListener("keyup",function(e){27==e.keyCode&&document.getElementById("md_layer")&&md_close()});